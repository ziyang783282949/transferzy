<?xml version="1.0" encoding="UTF-8"?><!--Converted at: Mon Aug 20 17:02:07 
	CST 2012 -->
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="EventModel">

	<resultMap id="BaseResultMap" type="EventModel">
		<id column="id" jdbcType="INTEGER" property="id" />
		<result column="name" jdbcType="VARCHAR" property="name" />
		<result column="event_time" jdbcType="TIMESTAMP" property="eventTime" />
		<result column="event_status" jdbcType="INTEGER" property="eventStatus" />
		<result column="price" jdbcType="DECIMAL" property="price" />
		<result column="service_fee" jdbcType="DECIMAL" property="serviceFee" />
		<result column="base_pot" jdbcType="DECIMAL" property="basePot" />
		<result column="min_players" jdbcType="INTEGER" property="minPlayers" />
		<result column="max_players" jdbcType="INTEGER" property="maxPlayers" />
		<result column="blind_info" jdbcType="INTEGER" property="blindInfo" />
		<result column="reward_type" jdbcType="INTEGER" property="rewardType" />
		<result column="rebuy_times" jdbcType="INTEGER" property="rebuyTimes" />
		<result column="cur_players" jdbcType="VARCHAR" property="curPlayers" />
		<result column="enroll_close_time" jdbcType="TIMESTAMP"
			property="enrollCloseTime" />
		<result column="reward_players" jdbcType="VARCHAR" property="rewardPlayers" />
		<result column="reward_info" jdbcType="VARCHAR" property="rewardInfo" />
		<result column="event_end_time" jdbcType="TIMESTAMP" property="eventEndTime" />
		<result column="create_time" jdbcType="TIMESTAMP" property="createTime" />
		<result column="event_type" jdbcType="INTEGER" property="eventType" />

	</resultMap>

	<insert id="addEntity" parameterType="java.util.Map">
		insert into
		tb_product_event(
		name,event_time,event_status,price,service_fee,base_pot,min_players,max_players,blind_info,reward_type,rebuy_times
		,cur_players,enroll_close_time,create_time,event_end_time,reward_info,event_type
		)values(
		#{name},#{eventTime},#{eventStatus},#{price},#{serviceFee},#{basePot},#{minPlayers},#{maxPlayers},#{blindInfo},#{rewardType},#{rebuyTimes}
		,#{curPlayers},#{enrollCloseTime},#{createTime},#{eventEndTime},#{rewardInfo},#{eventType}
		)

	</insert>

	<select id="findEntityListByCond" parameterType="java.util.Map"
		resultMap="BaseResultMap">

		select * from tb_product_event
		<trim prefix="where" prefixOverrides="and">
			<if test="id != null">
				and id=#{id}
			</if>
			<if test="ids != null">
				and id in
				<foreach collection="ids" index="index" item="item" open="("
					separator="," close=")">
					#{item}
				</foreach>
			</if>
			<if test="name != null">
				and name=#{name}
			</if>
			<if test="beginTime != null">
				and event_time &gt; #{beginTime}
			</if>
			<if test="endTime != null">
				and event_time &lt; #{endTime}
			</if>
		</trim>

		order by event_time

	</select>
	<delete id="deleteEntity" parameterType="java.util.Map">
		delete from tb_product_event
		<trim prefix="where" prefixOverrides="and">
			<if test="id != null">
				and id=#{id}
			</if>
		</trim>
	</delete>
	<update id="updateEntity" parameterType="java.util.Map">
		update tb_product_event
		<trim suffixOverrides=",">
			<set>
				<if test="name != null">
					name=#{name},
				</if>
				<if test="eventStatus != null">
					event_status = #{eventStatus},
				</if>
				<if test="basePot != null">
					base_pot = #{basePot},
				</if>
				<if test="rebuyTimes != null">
					rebuy_times = #{rebuyTimes},
				</if>
				<if test="curPlayers != null">
					cur_players = #{curPlayers},
				</if>
				<if test="rewardInfo != null">
					reward_info = #{rewardInfo},
				</if>
				<if test="rewardPlayers != null">
					reward_players = #{rewardPlayers},
				</if>
			</set>
		</trim>
		where id = #{id}
	</update>

</mapper>